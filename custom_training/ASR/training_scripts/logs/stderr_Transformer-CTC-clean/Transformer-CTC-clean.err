/fs/scratch/home/francesco_nespoli/JoergCollaboration/speechbrain_privacy/custom_training/ASR/training_scripts/gpus.sh: line 10: git: command not found
/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/launch.py:181: FutureWarning: The module torch.distributed.launch is deprecated
and will be removed in future. Use torchrun.
Note that --use-env is set by default in torchrun.
If your script expects `--local-rank` argument to be set, please
change it to read from `os.environ['LOCAL_RANK']` instead. See 
https://pytorch.org/docs/stable/distributed.html#launch-utility for 
further instructions

  warnings.warn(
WARNING:torch.distributed.run:
*****************************************
Setting OMP_NUM_THREADS environment variable for each process to be 1 in default, to avoid your system being overloaded, please further tune the variable for optimal performance in your application as needed. 
*****************************************
torchvision is not available - cannot save figures
torchvision is not available - cannot save figures
torchvision is not available - cannot save figures
torchvision is not available - cannot save figures
Traceback (most recent call last):
  File "train.py", line 417, in <module>
Traceback (most recent call last):
  File "train.py", line 417, in <module>
Traceback (most recent call last):
  File "train.py", line 417, in <module>
Traceback (most recent call last):
  File "train.py", line 417, in <module>
    hparams = load_hyperpyyaml(fin, overrides)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 154, in load_hyperpyyaml
    hparams = load_hyperpyyaml(fin, overrides)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 154, in load_hyperpyyaml
    hparams = load_hyperpyyaml(fin, overrides)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 154, in load_hyperpyyaml
    hparams = load_hyperpyyaml(fin, overrides)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 154, in load_hyperpyyaml
    yaml_stream = resolve_references(
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 307, in resolve_references
    yaml_stream = resolve_references(
      File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 307, in resolve_references
    yaml_stream = resolve_references(yaml_stream = resolve_references(

  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 307, in resolve_references
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 307, in resolve_references
    recursive_update(preview, overrides, must_match=overrides_must_match)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 752, in recursive_update
    recursive_update(preview, overrides, must_match=overrides_must_match)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 752, in recursive_update
    recursive_update(preview, overrides, must_match=overrides_must_match)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 752, in recursive_update
    recursive_update(preview, overrides, must_match=overrides_must_match)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/hyperpyyaml/core.py", line 752, in recursive_update
    raise KeyError(
KeyError: "Override 'local-rank' not found in: ['seed', '__set_seed', 'output_folder', 'wer_file', 'save_folder', 'train_log', 'pretrained_lm_tokenizer_path', 'data_folder', 'train_splits', 'dev_splits', 'test_splits', 'skip_prep', 'train_csv', 'valid_csv', 'test_csv', 'ckpt_interval_minutes', 'number_of_epochs', 'batch_size', 'ctc_weight', 'grad_accumulation_factor', 'max_grad_norm', 'loss_reduction', 'sorting', 'dynamic_batching', 'dynamic_batch_sampler', 'lr_adam', 'sample_rate', 'n_fft', 'n_mels', 'train_dataloader_opts', 'valid_dataloader_opts', 'test_dataloader_opts', 'd_model', 'nhead', 'num_encoder_layers', 'num_decoder_layers', 'd_ffn', 'transformer_dropout', 'activation', 'output_neurons', 'blank_index', 'label_smoothing', 'pad_index', 'bos_index', 'eos_index', 'min_decode_ratio', 'max_decode_ratio', 'valid_search_interval', 'valid_beam_size', 'test_beam_size', 'lm_weight', 'ctc_weight_decode', 'CNN', 'Transformer', 'lm_model', 'tokenizer', 'ctc_lin', 'seq_lin', 'modules', 'model', 'Adam', 'valid_search', 'test_search', 'log_softmax', 'ctc_cost', 'seq_cost', 'noam_annealing', 'checkpointer', 'epoch_counter', 'normalize', 'augmentation', 'speed_perturb', 'compute_features', 'train_logger', 'error_rate_computer', 'acc_computer', 'pretrainer']"
    raise KeyError(
KeyError: "Override 'local-rank' not found in: ['seed', '__set_seed', 'output_folder', 'wer_file', 'save_folder', 'train_log', 'pretrained_lm_tokenizer_path', 'data_folder', 'train_splits', 'dev_splits', 'test_splits', 'skip_prep', 'train_csv', 'valid_csv', 'test_csv', 'ckpt_interval_minutes', 'number_of_epochs', 'batch_size', 'ctc_weight', 'grad_accumulation_factor', 'max_grad_norm', 'loss_reduction', 'sorting', 'dynamic_batching', 'dynamic_batch_sampler', 'lr_adam', 'sample_rate', 'n_fft', 'n_mels', 'train_dataloader_opts', 'valid_dataloader_opts', 'test_dataloader_opts', 'd_model', 'nhead', 'num_encoder_layers', 'num_decoder_layers', 'd_ffn', 'transformer_dropout', 'activation', 'output_neurons', 'blank_index', 'label_smoothing', 'pad_index', 'bos_index', 'eos_index', 'min_decode_ratio', 'max_decode_ratio', 'valid_search_interval', 'valid_beam_size', 'test_beam_size', 'lm_weight', 'ctc_weight_decode', 'CNN', 'Transformer', 'lm_model', 'tokenizer', 'ctc_lin', 'seq_lin', 'modules', 'model', 'Adam', 'valid_search', 'test_search', 'log_softmax', 'ctc_cost', 'seq_cost', 'noam_annealing', 'checkpointer', 'epoch_counter', 'normalize', 'augmentation', 'speed_perturb', 'compute_features', 'train_logger', 'error_rate_computer', 'acc_computer', 'pretrainer']"
    raise KeyError(
KeyError: "Override 'local-rank' not found in: ['seed', '__set_seed', 'output_folder', 'wer_file', 'save_folder', 'train_log', 'pretrained_lm_tokenizer_path', 'data_folder', 'train_splits', 'dev_splits', 'test_splits', 'skip_prep', 'train_csv', 'valid_csv', 'test_csv', 'ckpt_interval_minutes', 'number_of_epochs', 'batch_size', 'ctc_weight', 'grad_accumulation_factor', 'max_grad_norm', 'loss_reduction', 'sorting', 'dynamic_batching', 'dynamic_batch_sampler', 'lr_adam', 'sample_rate', 'n_fft', 'n_mels', 'train_dataloader_opts', 'valid_dataloader_opts', 'test_dataloader_opts', 'd_model', 'nhead', 'num_encoder_layers', 'num_decoder_layers', 'd_ffn', 'transformer_dropout', 'activation', 'output_neurons', 'blank_index', 'label_smoothing', 'pad_index', 'bos_index', 'eos_index', 'min_decode_ratio', 'max_decode_ratio', 'valid_search_interval', 'valid_beam_size', 'test_beam_size', 'lm_weight', 'ctc_weight_decode', 'CNN', 'Transformer', 'lm_model', 'tokenizer', 'ctc_lin', 'seq_lin', 'modules', 'model', 'Adam', 'valid_search', 'test_search', 'log_softmax', 'ctc_cost', 'seq_cost', 'noam_annealing', 'checkpointer', 'epoch_counter', 'normalize', 'augmentation', 'speed_perturb', 'compute_features', 'train_logger', 'error_rate_computer', 'acc_computer', 'pretrainer']"
    raise KeyError(
KeyError: "Override 'local-rank' not found in: ['seed', '__set_seed', 'output_folder', 'wer_file', 'save_folder', 'train_log', 'pretrained_lm_tokenizer_path', 'data_folder', 'train_splits', 'dev_splits', 'test_splits', 'skip_prep', 'train_csv', 'valid_csv', 'test_csv', 'ckpt_interval_minutes', 'number_of_epochs', 'batch_size', 'ctc_weight', 'grad_accumulation_factor', 'max_grad_norm', 'loss_reduction', 'sorting', 'dynamic_batching', 'dynamic_batch_sampler', 'lr_adam', 'sample_rate', 'n_fft', 'n_mels', 'train_dataloader_opts', 'valid_dataloader_opts', 'test_dataloader_opts', 'd_model', 'nhead', 'num_encoder_layers', 'num_decoder_layers', 'd_ffn', 'transformer_dropout', 'activation', 'output_neurons', 'blank_index', 'label_smoothing', 'pad_index', 'bos_index', 'eos_index', 'min_decode_ratio', 'max_decode_ratio', 'valid_search_interval', 'valid_beam_size', 'test_beam_size', 'lm_weight', 'ctc_weight_decode', 'CNN', 'Transformer', 'lm_model', 'tokenizer', 'ctc_lin', 'seq_lin', 'modules', 'model', 'Adam', 'valid_search', 'test_search', 'log_softmax', 'ctc_cost', 'seq_cost', 'noam_annealing', 'checkpointer', 'epoch_counter', 'normalize', 'augmentation', 'speed_perturb', 'compute_features', 'train_logger', 'error_rate_computer', 'acc_computer', 'pretrainer']"
ERROR:torch.distributed.elastic.multiprocessing.api:failed (exitcode: 1) local_rank: 0 (pid: 14237) of binary: /fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/bin/python
Traceback (most recent call last):
  File "/usr/lib/python3.8/runpy.py", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/usr/lib/python3.8/runpy.py", line 87, in _run_code
    exec(code, run_globals)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/launch.py", line 196, in <module>
    main()
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/launch.py", line 192, in main
    launch(args)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/launch.py", line 177, in launch
    run(args)
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/run.py", line 785, in run
    elastic_launch(
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/launcher/api.py", line 134, in __call__
    return launch_agent(self._config, self._entrypoint, list(args))
  File "/fs/scratch/home/francesco_nespoli/JoergCollaboration/venv/lib/python3.8/site-packages/torch/distributed/launcher/api.py", line 250, in launch_agent
    raise ChildFailedError(
torch.distributed.elastic.multiprocessing.errors.ChildFailedError: 
============================================================
train.py FAILED
------------------------------------------------------------
Failures:
[1]:
  time      : 2023-03-20_10:36:52
  host      : ip-0AB85E04
  rank      : 1 (local_rank: 1)
  exitcode  : 1 (pid: 14238)
  error_file: <N/A>
  traceback : To enable traceback see: https://pytorch.org/docs/stable/elastic/errors.html
[2]:
  time      : 2023-03-20_10:36:52
  host      : ip-0AB85E04
  rank      : 2 (local_rank: 2)
  exitcode  : 1 (pid: 14239)
  error_file: <N/A>
  traceback : To enable traceback see: https://pytorch.org/docs/stable/elastic/errors.html
[3]:
  time      : 2023-03-20_10:36:52
  host      : ip-0AB85E04
  rank      : 3 (local_rank: 3)
  exitcode  : 1 (pid: 14240)
  error_file: <N/A>
  traceback : To enable traceback see: https://pytorch.org/docs/stable/elastic/errors.html
------------------------------------------------------------
Root Cause (first observed failure):
[0]:
  time      : 2023-03-20_10:36:52
  host      : ip-0AB85E04
  rank      : 0 (local_rank: 0)
  exitcode  : 1 (pid: 14237)
  error_file: <N/A>
  traceback : To enable traceback see: https://pytorch.org/docs/stable/elastic/errors.html
============================================================
